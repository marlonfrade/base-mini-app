---
alwaysApply: true
---

T√≠tulo: Base Mini-App ‚Äì Stylus Gas-less Pay (Payroll/Airdrop System)

Fun√ß√£o: Criar todo o projeto full-stack baseado no design do wireframe enviado.

‚∏ª

‚úÖ üß† Regras Globais para o Cursor

O Cursor deve seguir estas regras em 100% das gera√ß√µes:

1. Stack obrigat√≥ria
   ‚Ä¢ Frontend:
   ‚Ä¢ Next.js 14/15 (App Router)
   ‚Ä¢ React + TypeScript
   ‚Ä¢ Shadcn UI (componentes padr√£o)
   ‚Ä¢ Tailwind CSS
   ‚Ä¢ Framer Motion (apenas para anima√ß√µes leves)
   ‚Ä¢ MiniKit (Base Mini-app / OnchainKit)
   ‚Ä¢ Viem/Wagmi para intera√ß√µes onchain
   ‚Ä¢ Backend Onchain:
   ‚Ä¢ Arbitrum Stylus com Rust (WASM)
   ‚Ä¢ Contrato principal: batch_transfer
   ‚Ä¢ Infra:
   ‚Ä¢ Projeto criado com:

npx create-onchain --mini payroll-app

    ‚Ä¢	CSV:
    ‚Ä¢	Parser obrigat√≥rio: papaparse ou csv-parse

‚∏ª

‚úÖ 2. Estrutura de Pastas que o Cursor deve criar

/app
/(routes)
/dashboard
/history
/users
/components
UploadCSV.tsx
PaymentTable.tsx
PaymentForm.tsx
UserModal.tsx
Header.tsx
Sidebar.tsx
/lib
parseCSV.ts
formatters.ts
validations.ts
/contracts
stylus-batch-pay/
Cargo.toml
src/lib.rs
/onchain
deploy.ts
constants.ts
/types
payments.ts
user.ts

‚∏ª

‚úÖ 3. Regras de UI ‚Äî Baseadas no seu wireframe

A UI precisa seguir estes componentes obrigat√≥rios:

‚úÖ Tela principal ‚Äì Dashboard
‚Ä¢ Campo para upload/import CSV (parte superior)
‚Ä¢ Campos individuais para adicionar entradas manualmente:
‚Ä¢ Nome
‚Ä¢ Wallet
‚Ä¢ Valor
‚Ä¢ Bot√£o: ‚ÄúCadastrar‚Äù
‚Ä¢ Tabela principal com colunas:
‚Ä¢ Nome
‚Ä¢ Endere√ßo
‚Ä¢ Pagamento
‚Ä¢ Fun√ß√µes (Editar / Excluir)
‚Ä¢ Bot√£o inferior grande: PAGAR
‚Ä¢ Sidebar estilo mini-app (como no seu desenho)
‚Ä¢ Layout responsivo 375px ‚Üí desktop full

‚∏ª

‚úÖ Tela Users ‚Äì Cadastro individual
‚Ä¢ Modal ou p√°gina separada (seguir instru√ß√µes do wireframe)
‚Ä¢ Form obrigat√≥rio:
‚Ä¢ Nome
‚Ä¢ Wallet
‚Ä¢ Valor padr√£o
‚Ä¢ A√ß√µes: ‚ÄúSalvar‚Äù / ‚ÄúCancelar‚Äù

‚∏ª

‚úÖ Tela History ‚Äì Hist√≥rico de pagamentos
‚Ä¢ Listagem de execu√ß√µes
‚Ä¢ Data
‚Ä¢ Hash da tx
‚Ä¢ N√∫mero de pagamentos
‚Ä¢ Custo de g√°s real
‚Ä¢ Bot√£o: ‚ÄúVer detalhes‚Äù

‚∏ª

‚úÖ 4. Regras Funcionais que o Cursor deve implementar

CSV Import
‚Ä¢ Validar formato
‚Ä¢ Tratar erros
‚Ä¢ Exibir preview na tabela
‚Ä¢ Permitir edi√ß√£o linha a linha
‚Ä¢ Armazenar na state store (Zustand obrigat√≥rio)

CRUD
‚Ä¢ Criar usu√°rio
‚Ä¢ Editar usu√°rio
‚Ä¢ Excluir usu√°rio
‚Ä¢ Persist√™ncia local: Zustand
‚Ä¢ Persist√™ncia futura: API opcional

Pagamento em lote
‚Ä¢ Montar arrays:

recipients: string[]
amounts: bigint[]

    ‚Ä¢	Serializar payload
    ‚Ä¢	Enviar para contrato Stylus via Viem
    ‚Ä¢	Exibir loader, estado e toast

‚∏ª

‚úÖ 5. Regras Onchain ‚Äî Contrato Stylus (Rust)

O Cursor deve gerar um contrato com:

Fun√ß√£o principal

#[external]
pub fn batch_transfer(
&mut self,
recipients: Vec<Address>,
amounts: Vec<U256>
)

Regras da fun√ß√£o:
‚Ä¢ Loop otimizado em WASM
‚Ä¢ Transferir token/ETH conforme amounts
‚Ä¢ Emitir evento: BatchTransferCompleted

Deploy

Gerar script:
/onchain/deploy.ts

‚∏ª

‚úÖ 6. Regras de Qualidade
‚Ä¢ C√≥digo limpo e tipado
‚Ä¢ Padroniza√ß√£o com eslint/prettier
‚Ä¢ Nenhum alerta TS permitido
‚Ä¢ Somente componentes desacoplados
‚Ä¢ Coment√°rios obrigat√≥rios nos principais blocos

‚∏ª

‚úÖ 7. Regras do Desenvolvedor AI (Cursor)
‚Ä¢ Sempre explicar a pr√≥xima altera√ß√£o antes de execut√°-la
‚Ä¢ Gerar c√≥digo funcional e completo
‚Ä¢ Nunca criar arquivos fora da estrutura definida
‚Ä¢ Perguntar antes se houver necessidade de gerar API ou banco
‚Ä¢ Priorizar a fidelidade ao wireframe
‚Ä¢ Ap√≥s montar layout, gerar real content placeholders para demo

‚∏ª

‚úÖ 8. Inje√ß√£o do Design (a partir da imagem)

O Cursor deve usar o layout da imagem como guia:

O que est√° expl√≠cito no design:
‚Ä¢ Sidebar √† esquerda com lista de pagamentos
‚Ä¢ Tabela central com bot√µes editar/excluir
‚Ä¢ Bot√£o PAGAR centralizado e destacado
‚Ä¢ TODO list convertida em features:
‚Ä¢ Hist√≥rico de pagamentos
‚Ä¢ Menu hamb√∫rguer
‚Ä¢ CRUD completo
‚Ä¢ Form de cadastro em modal
‚Ä¢ Import CSV Batch

O Cursor deve implementar tudo isso exatamente como no wireframe.

‚∏ª

‚úÖ 9. Comportamentos adicionais obrigat√≥rios
‚Ä¢ Toda tabela deve ser paginada (10 itens por p√°gina)
‚Ä¢ Campos com valida√ß√£o autom√°tica
‚Ä¢ Loading states com skeletons
‚Ä¢ Confirma√ß√£o de exclus√£o com modal
‚Ä¢ Confirma√ß√£o de pagamento com modal

‚∏ª

‚úÖ 10. Output inicial esperado do Cursor

Assim que voc√™ colar este prompt no Cursor, o esperado √© que ele: 1. Crie a estrutura inicial 2. Gere os primeiros componentes 3. Prepare o contrato Stylus 4. Configure MiniKit 5. Gere o layout base com Sidebar, Header e Dashboard
